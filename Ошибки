В логах докера выдает такую ошибку
kittygram-backend-1  | django.db.utils.OperationalError: could not translate host name "db" to address: Temporary failure in name resolution

Польностью ошибка
-------
kittygram-db-1       |
kittygram-db-1       | PostgreSQL Database directory appears to contain a database; Skipping initialization
kittygram-db-1       |
kittygram-db-1       | 2023-07-09 18:13:14.542 UTC [1] FATAL:  could not write lock file "postmaster.pid": No space left on device
kittygram-backend-1  | [2023-07-09 18:13:10 +0000] [1] [INFO] Starting gunicorn 20.1.0
kittygram-backend-1  | [2023-07-09 18:13:10 +0000] [1] [INFO] Listening at: http://0.0.0.0:9000 (1)
kittygram-backend-1  | [2023-07-09 18:13:10 +0000] [1] [INFO] Using worker: sync
kittygram-backend-1  | [2023-07-09 18:13:10 +0000] [13] [INFO] Booting worker with pid: 13
kittygram-backend-1  | Internal Server Error: /api/users/me/
kittygram-backend-1  | Traceback (most recent call last):
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/base/base.py", line 219, in ensure_connection
kittygram-backend-1  |     self.connect()
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/utils/asyncio.py", line 26, in inner
kittygram-backend-1  |     return func(*args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/base/base.py", line 200, in connect
kittygram-backend-1  |     self.connection = self.get_new_connection(conn_params)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/utils/asyncio.py", line 26, in inner
kittygram-backend-1  |     return func(*args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/postgresql/base.py", line 187, in get_new_connection
kittygram-backend-1  |     connection = Database.connect(**conn_params)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
kittygram-backend-1  |     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
kittygram-backend-1  | psycopg2.OperationalError: could not translate host name "db" to address: Temporary failure in name resolution
kittygram-backend-1  |
kittygram-backend-1  |
kittygram-backend-1  | The above exception was the direct cause of the following exception:
kittygram-backend-1  |
kittygram-backend-1  | Traceback (most recent call last):
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/core/handlers/exception.py", line 47, in inner
kittygram-backend-1  |     response = get_response(request)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/core/handlers/base.py", line 181, in _get_response
kittygram-backend-1  |     response = wrapped_callback(request, *callback_args, **callback_kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
kittygram-backend-1  |     return view_func(*args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/rest_framework/viewsets.py", line 125, in view
kittygram-backend-1  |     return self.dispatch(request, *args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/rest_framework/views.py", line 509, in dispatch
kittygram-backend-1  |     response = self.handle_exception(exc)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/rest_framework/views.py", line 469, in handle_exception
kittygram-backend-1  |     self.raise_uncaught_exception(exc)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
kittygram-backend-1  |     raise exc
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/rest_framework/views.py", line 497, in dispatch
kittygram-backend-1  |     self.initial(request, *args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/rest_framework/views.py", line 414, in initial
kittygram-backend-1  |     self.perform_authentication(request)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/rest_framework/views.py", line 324, in perform_authentication
kittygram-backend-1  |     request.user
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/rest_framework/request.py", line 227, in user
kittygram-backend-1  |     self._authenticate()
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/rest_framework/request.py", line 380, in _authenticate
kittygram-backend-1  |     user_auth_tuple = authenticator.authenticate(self)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/rest_framework/authentication.py", line 196, in authenticate
kittygram-backend-1  |     return self.authenticate_credentials(token)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/rest_framework/authentication.py", line 201, in authenticate_credentials
kittygram-backend-1  |     token = model.objects.select_related('user').get(key=key)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/models/query.py", line 431, in get
kittygram-backend-1  |     num = len(clone)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/models/query.py", line 262, in __len__
kittygram-backend-1  |     self._fetch_all()
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/models/query.py", line 1324, in _fetch_all
kittygram-backend-1  |     self._result_cache = list(self._iterable_class(self))
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/models/query.py", line 51, in __iter__
kittygram-backend-1  |     results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/models/sql/compiler.py", line 1173, in execute_sql
kittygram-backend-1  |     cursor = self.connection.cursor()
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/utils/asyncio.py", line 26, in inner
kittygram-backend-1  |     return func(*args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/base/base.py", line 259, in cursor
kittygram-backend-1  |     return self._cursor()
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/base/base.py", line 235, in _cursor
kittygram-backend-1  |     self.ensure_connection()
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/utils/asyncio.py", line 26, in inner
kittygram-backend-1  |     return func(*args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/base/base.py", line 219, in ensure_connection
kittygram-backend-1  |     self.connect()
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/utils.py", line 90, in __exit__
kittygram-backend-1  |     raise dj_exc_value.with_traceback(traceback) from exc_value
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/base/base.py", line 219, in ensure_connection
kittygram-backend-1  |     self.connect()
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/utils/asyncio.py", line 26, in inner
kittygram-backend-1  |     return func(*args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/base/base.py", line 200, in connect
kittygram-backend-1  |     self.connection = self.get_new_connection(conn_params)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/utils/asyncio.py", line 26, in inner
kittygram-backend-1  |     return func(*args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/postgresql/base.py", line 187, in get_new_connection
kittygram-backend-1  |     connection = Database.connect(**conn_params)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
kittygram-backend-1  |     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
kittygram-backend-1  | django.db.utils.OperationalError: could not translate host name "db" to address: Temporary failure in name resolution
kittygram-backend-1  |
kittygram-backend-1  | Internal Server Error: /api/token/login/
kittygram-backend-1  | Traceback (most recent call last):
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/base/base.py", line 219, in ensure_connection
kittygram-backend-1  |     self.connect()
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/utils/asyncio.py", line 26, in inner
kittygram-backend-1  |     return func(*args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/base/base.py", line 200, in connect
kittygram-backend-1  |     self.connection = self.get_new_connection(conn_params)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/utils/asyncio.py", line 26, in inner
kittygram-backend-1  |     return func(*args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/postgresql/base.py", line 187, in get_new_connection
kittygram-backend-1  |     connection = Database.connect(**conn_params)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
kittygram-backend-1  |     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
kittygram-backend-1  | psycopg2.OperationalError: could not translate host name "db" to address: Temporary failure in name resolution
kittygram-backend-1  |
kittygram-backend-1  |
kittygram-backend-1  | The above exception was the direct cause of the following exception:
kittygram-backend-1  |
kittygram-backend-1  | Traceback (most recent call last):
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/core/handlers/exception.py", line 47, in inner
kittygram-backend-1  |     response = get_response(request)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/core/handlers/base.py", line 181, in _get_response
kittygram-backend-1  |     response = wrapped_callback(request, *callback_args, **callback_kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
kittygram-backend-1  |     return view_func(*args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/views/generic/base.py", line 70, in view
kittygram-backend-1  |     return self.dispatch(request, *args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/rest_framework/views.py", line 509, in dispatch
kittygram-backend-1  |     response = self.handle_exception(exc)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/rest_framework/views.py", line 469, in handle_exception
kittygram-backend-1  |     self.raise_uncaught_exception(exc)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
kittygram-backend-1  |     raise exc
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/rest_framework/views.py", line 506, in dispatch
kittygram-backend-1  |     response = handler(request, *args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/djoser/utils.py", line 37, in post
kittygram-backend-1  |     serializer.is_valid(raise_exception=True)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/rest_framework/serializers.py", line 220, in is_valid
kittygram-backend-1  |     self._validated_data = self.run_validation(self.initial_data)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/rest_framework/serializers.py", line 422, in run_validation
kittygram-backend-1  |     value = self.validate(value)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/djoser/serializers.py", line 117, in validate
kittygram-backend-1  |     self.user = authenticate(
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/views/decorators/debug.py", line 42, in sensitive_variables_wrapper
kittygram-backend-1  |     return func(*func_args, **func_kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/contrib/auth/__init__.py", line 76, in authenticate
kittygram-backend-1  |     user = backend.authenticate(request, **credentials)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/contrib/auth/backends.py", line 42, in authenticate
kittygram-backend-1  |     user = UserModel._default_manager.get_by_natural_key(username)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/contrib/auth/base_user.py", line 45, in get_by_natural_key
kittygram-backend-1  |     return self.get(**{self.model.USERNAME_FIELD: username})
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/models/manager.py", line 85, in manager_method
kittygram-backend-1  |     return getattr(self.get_queryset(), name)(*args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/models/query.py", line 431, in get
kittygram-backend-1  |     num = len(clone)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/models/query.py", line 262, in __len__
kittygram-backend-1  |     self._fetch_all()
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/models/query.py", line 1324, in _fetch_all
kittygram-backend-1  |     self._result_cache = list(self._iterable_class(self))
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/models/query.py", line 51, in __iter__
kittygram-backend-1  |     results = compiler.execute_sql(chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/models/sql/compiler.py", line 1173, in execute_sql
kittygram-backend-1  |     cursor = self.connection.cursor()
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/utils/asyncio.py", line 26, in inner
kittygram-backend-1  |     return func(*args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/base/base.py", line 259, in cursor
kittygram-backend-1  |     return self._cursor()
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/base/base.py", line 235, in _cursor
kittygram-backend-1  |     self.ensure_connection()
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/utils/asyncio.py", line 26, in inner
kittygram-backend-1  |     return func(*args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/base/base.py", line 219, in ensure_connection
kittygram-backend-1  |     self.connect()
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/utils.py", line 90, in __exit__
kittygram-backend-1  |     raise dj_exc_value.with_traceback(traceback) from exc_value
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/base/base.py", line 219, in ensure_connection
kittygram-backend-1  |     self.connect()
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/utils/asyncio.py", line 26, in inner
kittygram-backend-1  |     return func(*args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/base/base.py", line 200, in connect
kittygram-backend-1  |     self.connection = self.get_new_connection(conn_params)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/utils/asyncio.py", line 26, in inner
kittygram-backend-1  |     return func(*args, **kwargs)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/django/db/backends/postgresql/base.py", line 187, in get_new_connection
kittygram-backend-1  |     connection = Database.connect(**conn_params)
kittygram-backend-1  |   File "/usr/local/lib/python3.9/site-packages/psycopg2/__init__.py", line 122, in connect
kittygram-backend-1  |     conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
kittygram-backend-1  | django.db.utils.OperationalError: could not translate host name "db" to address: Temporary failure in name resolution
kittygram-backend-1  |
